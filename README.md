# Chat-Room-Socket-Programming
This project is for CSCE-662 Texas A&amp;M. It is a chat room based on socket programming.

# Processes vs Threads vs Select:
In order to design the chat server and chat client programs, processes, threads and select could be used in many different ways.  At one end of the spectrum each socket can have its own thread/process and on the other end a single select on server can take care of everything. Finding a suitable balance among them is an important part of programs. Perhaps it is easy to see why processes would have been an over-kill for this project and beside they would make the whole project extremely more challenging. So it is easy to pass on processes. The better discussion would be between threads and select. Threads make the design more complex because you have to make sure threads run smoothly in parallel and do not create unintended problems and it would require more resources if it is over used. At the same time a single select would be limiting if there are many clients chatting at the same time. So a balanced decision has to be made between threads and select.

# Project’s Design:
For this project, the server allocates a thread for each room to run independently, with all members of the room being handled by a select in the dedicated thread. The main server thread listens for the commands and join request using select. Each client uses a select to capture both stdio inputs and also the server’s incoming data in chat mode. While the select parts of the programs are easy and obvious to implement, the room threads are more challenging especially because they have to respond to commands from the main thread. In order to make this process easier, instead of trying very hard to synchronize the threads, an indentical state machine system for each class room (each room is a single thread) was designed. The state machine has 5 states “UNSET”, “INITIATE”, “RUNNING_CHAT_ROOM”, “DELETE_CHAT_ROOM” and “THREAD_CRASHED” which are used by the main thread to communicate with each room. Since in a chat room system, events are not time critical (in comparison to real time systems), the main thread only request a state change and it is the room thread’s job to apply the state change at earliest convenience. Thanks to this mechanism the main thread does not waste time waiting for other thread and more importantly race condition become irrelevant for this system if state change requests are handled correctly.

# Some other concerns:
	Parsing of all commands are done on the server side and the server respond by a single byte indicating what kind of reply would be sent next by the server. In this way the client side does not have to worry about the command entered by the user and it knows exactly what kind of reply (size and content) the server is going to send.
	The program is not machine independent, therefore both client and server must run on similar machines (64-bit/32-bit and similar operating systems). The code should work on different machines if clients and the server are similar.
